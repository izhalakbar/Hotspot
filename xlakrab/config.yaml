---
dns:
  nameserver:
  - 192.168.8.1
  - 192.168.9.1
  - dhcp://"eth1"
  - dhcp://"wwan0"
  - https://dns.adguard.com/dns-query
  - https://dns-google.com/dns-query
  - tls://dns.adguard.com
  - tls://dns-google.com/
  enable: true
  ipv6: false
  enhanced-mode: redir-host
  fake-ip-range: 198.18.0.1/16
  listen: 127.0.0.1:7874
  fake-ip-filter:
  - "+.*"
  default-nameserver:
  - 192.168.9.1
  - 192.168.8.1
redir-port: 7892
tproxy-port: 7895
port: 7890
socks-port: 7891
mixed-port: 7893
mode: rule
log-level: info
allow-lan: true
external-controller: 0.0.0.0:9090
secret: reyre
bind-address: "*"
external-ui: "/usr/share/openclash/ui"
ipv6: false
tun:
  enable: true
  stack: system
  dns-hijack:
  - tcp://8.8.8.8:53
  - tcp://8.8.4.4:53
profile:
  store-selected: true
  store-fake-ip: true
# ================= REYRE-STB ==================

BUG:
  - &bug 104.17.3.81
SNI:
  - &sni api.midtrans.com
PATH:
  - &path1 wss://api.midtrans.com/fastssh/xlakrab1/6354468d3c568/
  - &path2 wss://api.midtrans.com/howdy
  - &path3 wss://api.midtrans.com/fastssh/xlakrabvless/63544963745b4/
  - &path4 wss://api.midtrans.com/fastssh
PW:
#198.74.11.40
  - &pw1 a9481600-ef36-402a-a0e5-5547bfd7b87c
  - &pw2 91f69300-5223-11ed-872a-1239d0255272
  - &pw3 81f1f510-3ca7-4734-8956-0f4fce670af5
  - &pw4 285a19b0-527b-11ed-b536-225401db9d57
# ================= REYRE-STB ==================
proxies:
  - name: Proxie-vmess1
    server: *bug
    port: 443
    type: vmess
    uuid: *pw1
    alterId: 0
    cipher: auto
    tls: true
    skip-cert-verify: true
    servername: *sni
    network: ws
    ws-opts:
      path: *path1
      headers:
        Host: sg-ovh2.v2-ray.com
    udp: true
  - name: Proxie-trojan
    server: *bug
    port: 443
    type: trojan
    password: *pw2
    skip-cert-verify: true
    sni: *sni
    network: ws
    ws-opts:
      path: *path2
      headers:
        Host: sg3-trojan.bonds.id
    udp: true
  - name: Proxie-vless
    server: *bug
    port: 443
    type: vless
    uuid: *pw3
    cipher: auto
    tls: true
    skip-cert-verify: true
    servername: *sni
    network: ws
    ws-opts:
      path: *path3
      headers:
        Host: sg2.vless.co
    udp: true
  - name: Proxie-vmess2
    server: *bug
    port: 443
    type: trojan
    password: *pw1
    skip-cert-verify: true
    sni: *sni
    network: ws
    ws-opts:
      path: *path1
      headers:
        Host: sg-ovh2.v2-ray.com
    udp: true
  - name: Proxie-trojan-unli
    server: *bug
    port: 443
    type: trojan
    password: *pw4
    skip-cert-verify: true
    sni: *sni
    network: ws
    ws-opts:
      path: *path4
      headers:
        Host: sg-ovh.tjvpn.org
    udp: true
# ================= REYRE-STB ==================
proxy-groups:
  - name: ğŸŒ Universal
    type: load-balance
    strategy: consistent-hashing
    url: http://cp.cloudflare.com/generate_204
    interval: 300
    proxies:
      - Proxie-vmess1
      - Proxie-trojan
      - Proxie-vless
      - Proxie-vmess2
      - Proxie-trojan-unli
  - name: ğŸ”¶ LB-Streaming
    type: load-balance
    strategy: round-robin
    url: http://cp.cloudflare.com/generate_204
    interval: 150
    proxies:
      - ğŸ”¸Streaming-1
      - ğŸ”¸Streaming-2
  - name: ğŸ”¸Streaming-1
    type: url-test
    url: http://cp.cloudflare.com/generate_204
    interval: 100
    tolerance: 50
    disable-udp: false
    proxies:
      - Proxie-vmess1
      - Proxie-trojan
      - Proxie-vless
  - name: ğŸ”¸Streaming-2
    type: url-test
    url: http://cp.cloudflare.com/generate_204
    interval: 100
    tolerance: 50
    disable-udp: false
    proxies:
      - Proxie-vless
      - Proxie-vmess2
      - Proxie-trojan-unli
  - name: ğŸ”· LB-Sosmed
    type: load-balance
    strategy: round-robin
    url: http://cp.cloudflare.com/generate_204
    interval: 100
    proxies:
      - ğŸ”¸Sosmed-1
      - ğŸ”¸Sosmed-2
  - name: ğŸ”¸Sosmed-1
    type: url-test
    url: http://cp.cloudflare.com/generate_204
    interval: 100
    tolerance: 50
    disable-udp: false
    proxies:
      - Proxie-vmess1
      - Proxie-trojan
      - Proxie-vless
  - name: ğŸ”¸Sosmed-2
    type: url-test
    url: http://cp.cloudflare.com/generate_204
    interval: 100
    tolerance: 50
    disable-udp: false
    proxies:
      - Proxie-vless
      - Proxie-vmess2
      - Proxie-trojan-unli
  - name: ğŸ® Game
    type: select
    proxies:
      - Proxie-trojan-unli
# ================= REYRE-STB ==================
rule-providers:
  Direct:
    type: file
    behavior: classical
    path: "./rule_provider/direct.yaml"
  Reject:
    type: file
    behavior: classical
    path: "./rule_provider/reject.yaml"
  Gaming:
    type: file
    behavior: classical
    path: "./rule_provider/gaming.yaml"
  Sosmed:
    type: file
    behavior: classical
    path: "./rule_provider/sosmed.yaml"
  Streaming:
    type: file
    behavior: classical
    path: "./rule_provider/streaming.yaml"
rules:
  - IP-CIDR,198.18.0.1/16,REJECT,no-resolve
  - IP-CIDR6,::1/128,REJECT,no-resolve
  - RULE-SET,Direct,DIRECT
  - RULE-SET,Reject,REJECT
  - RULE-SET,Gaming,ğŸ® Game
  - RULE-SET,Sosmed,ğŸ”· LB-Sosmed
  - RULE-SET,Streaming,ğŸ”¶ LB-Streaming
  - MATCH,ğŸŒ Universal
